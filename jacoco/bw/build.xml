<?xml version="1.0" encoding="UTF-8"?>

<project name="TIBCO BusinessWorks" default="report" xmlns:jacoco="antlib:org.jacoco.ant">

	<property name="project.home" location="/Users/yxu/Developer/tibco/test_tutorial" />
	<property name="jacoco.work" location="${project.home}/jacoco/bw" />
	<property name="result.report.dir" location="${jacoco.work}/reports" />

	<taskdef uri="antlib:org.jacoco.ant" resource="org/jacoco/ant/antlib.xml">
<!--		<classpath path="${project.home}/lib/jacocoant-0.7.8.yxu.jar" /> -->
		<classpath path="/Users/yxu/Developer/git/jacoco/org.jacoco.ant/target/org.jacoco.ant-0.7.8-SNAPSHOT-nodeps.jar" />
	</taskdef>

	<target name="clean">
		<delete dir="${result.report.dir}" />
		<mkdir dir="${result.report.dir}" />
	</target>
	
	<target name="report" depends="clean">
		<jacoco:report>
			
			<businessworks name="ESEFeed" jmxurl="localhost:13401"/>

			<html destdir="${result.report.dir}" footer="Generated by SEFS Team" />
			<csv destfile="${result.report.dir}/report.csv" />
			<xml destfile="${result.report.dir}/report.xml" />
		</jacoco:report>
	</target>
</project>
